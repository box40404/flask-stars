<!DOCTYPE html>
<html>
<head>
    <title>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç Telegram WebApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .warning { background-color: #fff3cd; border-color: #ffeaa7; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
        
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        .copy-btn {
            background: #28a745;
            font-size: 12px;
            padding: 5px 10px;
        }
        
        .critical {
            background-color: #721c24;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Telegram WebApp</h1>
        <p>–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å Dev Tunnels –∏ –≤–Ω–µ—à–Ω–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏.</p>
        
        <div id="critical-check" class="test-section">
            <h3>üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</h3>
            <div id="critical-status">–ê–Ω–∞–ª–∏–∑...</div>
        </div>
        
        <div id="useragent-check" class="test-section">
            <h3>1. –ê–Ω–∞–ª–∏–∑ User Agent</h3>
            <div id="useragent-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
        </div>
        
        <div id="telegram-check" class="test-section">
            <h3>2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram WebApp API</h3>
            <div id="telegram-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
        </div>
        
        <div id="initdata-check" class="test-section">
            <h3>3. –ü—Ä–æ–≤–µ—Ä–∫–∞ initData</h3>
            <div id="initdata-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
            <div id="initdata-content"></div>
        </div>
        
        <div id="domain-check" class="test-section">
            <h3>4. –ê–Ω–∞–ª–∏–∑ –¥–æ–º–µ–Ω–∞</h3>
            <div id="domain-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
        </div>
        
        <div id="headers-check" class="test-section">
            <h3>5. HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏</h3>
            <button onclick="checkHeaders()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏</button>
            <div id="headers-content"></div>
        </div>
        
        <div id="telegram-specific" class="test-section">
            <h3>6. Telegram-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</h3>
            <div id="telegram-specific-content">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
        </div>
        
        <div id="solutions" class="test-section info">
            <h3>üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è</h3>
            <div id="solutions-content">–ê–Ω–∞–ª–∏–∑...</div>
        </div>
        
        <div id="bot-config" class="test-section warning">
            <h3>‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞</h3>
            <div id="bot-config-content">
                <p><strong>–î–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</strong></p>
                <p><strong>URL –¥–ª—è @BotFather:</strong> <code id="bot-url"></code></p>
                <button onclick="copyBotUrl()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL</button>
            </div>
        </div>
    </div>

    <script>
        let diagnosticData = {};
        
        function checkCritical() {
            const statusDiv = document.getElementById('critical-status');
            const userAgent = navigator.userAgent;
            const isTelegramWebApp = userAgent.includes('TelegramBot') || 
                                   userAgent.includes('Telegram') ||
                                   (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initData);
            
            if (!isTelegramWebApp) {
                statusDiv.innerHTML = 
                    '<div class="critical">' +
                    'üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ù–ï –≤ Telegram WebApp!<br>' +
                    'Telegram –æ—Ç–∫—Ä—ã–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–æ –≤–Ω–µ—à–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É initData –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.<br>' +
                    '–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å –¥–æ–º–µ–Ω–æ–º devtunnels.ms –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±–æ—Ç–∞.' +
                    '</div>';
                diagnosticData.critical = 'external_browser';
            } else {
                statusDiv.innerHTML = '<div class="success">‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –≤ Telegram WebApp</div>';
                diagnosticData.critical = 'telegram_webapp';
            }
        }
        
        function checkUserAgent() {
            const statusDiv = document.getElementById('useragent-status');
            const userAgent = navigator.userAgent;
            
            let analysis = '<p><strong>User Agent:</strong></p><pre>' + userAgent + '</pre>';
            
            if (userAgent.includes('TelegramBot')) {
                analysis += '<div class="success">‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω Telegram Bot User Agent</div>';
                diagnosticData.userAgent = 'telegram_bot';
            } else if (userAgent.includes('Telegram')) {
                analysis += '<div class="warning">‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω Telegram, –Ω–æ –Ω–µ Bot User Agent</div>';
                diagnosticData.userAgent = 'telegram_other';
            } else {
                analysis += '<div class="error">‚ùå –û–±—ã—á–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä - –ù–ï Telegram WebApp</div>';
                analysis += '<p><strong>–û–∂–∏–¥–∞–µ–º—ã–π User Agent –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:</strong></p>';
                analysis += '<ul><li>TelegramBot</li><li>–∏–ª–∏ –¥—Ä—É–≥–∏–µ Telegram –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã</li></ul>';
                diagnosticData.userAgent = 'regular_browser';
            }
            
            statusDiv.innerHTML = analysis;
        }
        
        function checkTelegramWebApp() {
            const statusDiv = document.getElementById('telegram-status');
            
            if (typeof window.Telegram === 'undefined') {
                statusDiv.innerHTML = '<div class="error">‚ùå window.Telegram –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</div>';
                diagnosticData.telegram = 'unavailable';
                return false;
            }
            
            if (typeof window.Telegram.WebApp === 'undefined') {
                statusDiv.innerHTML = '<div class="error">‚ùå window.Telegram.WebApp –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</div>';
                diagnosticData.telegram = 'no_webapp';
                return false;
            }
            
            let info = '<div class="success">‚úÖ Telegram WebApp API –¥–æ—Å—Ç—É–ø–µ–Ω</div>';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
            const webApp = window.Telegram.WebApp;
            info += '<p><strong>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ WebApp:</strong></p><ul>';
            
            const properties = ['initData', 'initDataUnsafe', 'version', 'platform', 'colorScheme', 'themeParams', 'isExpanded', 'viewportHeight', 'viewportStableHeight'];
            properties.forEach(prop => {
                if (webApp[prop] !== undefined) {
                    let value = webApp[prop];
                    if (typeof value === 'object') {
                        value = JSON.stringify(value);
                    }
                    info += `<li><strong>${prop}:</strong> ${value}</li>`;
                }
            });
            info += '</ul>';
            
            statusDiv.innerHTML = info;
            diagnosticData.telegram = 'available';
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º WebApp
            try {
                window.Telegram.WebApp.ready();
                statusDiv.innerHTML += '<div class="success">‚úÖ WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω</div>';
            } catch (e) {
                statusDiv.innerHTML += '<div class="error">‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: ' + e.message + '</div>';
            }
            
            return true;
        }
        
        function checkInitData() {
            const statusDiv = document.getElementById('initdata-status');
            const contentDiv = document.getElementById('initdata-content');
            
            if (!diagnosticData.telegram || diagnosticData.telegram === 'unavailable') {
                statusDiv.innerHTML = '<div class="error">‚ùå Telegram WebApp –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</div>';
                return;
            }
            
            const initData = window.Telegram.WebApp.initData;
            const initDataUnsafe = window.Telegram.WebApp.initDataUnsafe;
            
            if (!initData || initData.length === 0) {
                statusDiv.innerHTML = '<div class="error">‚ùå initData –ø—É—Å—Ç–æ–π</div>';
                
                let content = '<p><strong>–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –¥–ª—è devtunnels.ms:</strong></p>';
                content += '<ul>';
                content += '<li>Telegram –Ω–µ –¥–æ–≤–µ—Ä—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–æ–º–µ–Ω–∞–º *.devtunnels.ms</li>';
                content += '<li>–î–æ–º–µ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω Telegram</li>';
                content += '<li>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ WebApp –≤ –±–æ—Ç–µ</li>';
                content += '<li>Telegram –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–æ –≤–Ω–µ—à–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</li>';
                content += '</ul>';
                
                if (initDataUnsafe && Object.keys(initDataUnsafe).length > 0) {
                    content += '<p><strong>initDataUnsafe (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):</strong></p>';
                    content += '<pre>' + JSON.stringify(initDataUnsafe, null, 2) + '</pre>';
                    content += '<div class="warning">‚ö†Ô∏è –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–¥–¥–µ–ª–∞–Ω—ã!</div>';
                }
                
                contentDiv.innerHTML = content;
                diagnosticData.initData = null;
                return;
            }
            
            statusDiv.innerHTML = '<div class="success">‚úÖ initData –ø–æ–ª—É—á–µ–Ω</div>';
            diagnosticData.initData = initData;
            
            contentDiv.innerHTML = 
                '<p><strong>–î–ª–∏–Ω–∞ initData:</strong> ' + initData.length + ' —Å–∏–º–≤–æ–ª–æ–≤</p>' +
                '<p><strong>initData:</strong></p>' +
                '<pre>' + initData + '</pre>';
        }
        
        function checkDomain() {
            const statusDiv = document.getElementById('domain-status');
            const domain = window.location.host;
            
            let analysis = '<p><strong>–¢–µ–∫—É—â–∏–π –¥–æ–º–µ–Ω:</strong> ' + domain + '</p>';
            
            if (domain.includes('devtunnels.ms')) {
                analysis += '<div class="warning">‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Visual Studio Dev Tunnels</div>';
                analysis += '<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —Å devtunnels.ms:</strong></p>';
                analysis += '<ul>';
                analysis += '<li>–í—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω - –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è Telegram</li>';
                analysis += '<li>SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Microsoft –º–æ–∂–µ—Ç –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å—Å—è</li>';
                analysis += '<li>–î–æ–º–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</li>';
                analysis += '</ul>';
                
                analysis += '<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong></p>';
                analysis += '<ul>';
                analysis += '<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –≤–º–µ—Å—Ç–æ devtunnels</li>';
                analysis += '<li>–ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–æ–º–µ–Ω</li>';
                analysis += '<li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å —Å –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–æ–º</li>';
                analysis += '</ul>';
                
                diagnosticData.domain = 'devtunnels';
            } else if (domain.includes('ngrok.io')) {
                analysis += '<div class="info">‚ÑπÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ngrok - –æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Telegram</div>';
                diagnosticData.domain = 'ngrok';
            } else if (domain.includes('localhost') || domain.includes('127.0.0.1')) {
                analysis += '<div class="error">‚ùå Localhost –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Telegram WebApp</div>';
                diagnosticData.domain = 'localhost';
            } else {
                analysis += '<div class="success">‚úÖ –û–±—ã—á–Ω—ã–π –¥–æ–º–µ–Ω</div>';
                diagnosticData.domain = 'regular';
            }
            
            statusDiv.innerHTML = analysis;
        }
        
        function checkHeaders() {
            const contentDiv = document.getElementById('headers-content');
            contentDiv.innerHTML = '<div class="info">üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤...</div>';
            
            fetch(window.location.href, { method: 'HEAD' })
                .then(response => {
                    let headers = '<p><strong>HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞:</strong></p><ul>';
                    for (let [key, value] of response.headers.entries()) {
                        headers += `<li><strong>${key}:</strong> ${value}</li>`;
                    }
                    headers += '</ul>';
                    
                    headers += '<p><strong>–°—Ç–∞—Ç—É—Å:</strong> ' + response.status + ' ' + response.statusText + '</p>';
                    
                    contentDiv.innerHTML = headers;
                })
                .catch(error => {
                    contentDiv.innerHTML = '<div class="error">‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤: ' + error.message + '</div>';
                });
        }
        
        function checkTelegramSpecific() {
            const contentDiv = document.getElementById('telegram-specific-content');
            
            let checks = '';
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ referrer
            const referrer = document.referrer;
            checks += '<p><strong>Referrer:</strong> ' + (referrer || '–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç') + '</p>';
            
            if (referrer.includes('telegram')) {
                checks += '<div class="success">‚úÖ Referrer —Å–æ–¥–µ—Ä–∂–∏—Ç telegram</div>';
            } else {
                checks += '<div class="warning">‚ö†Ô∏è Referrer –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç telegram</div>';
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ window.parent
            try {
                if (window.parent !== window) {
                    checks += '<div class="info">‚ÑπÔ∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –≤ iframe</div>';
                } else {
                    checks += '<div class="warning">‚ö†Ô∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï –≤ iframe</div>';
                }
            } catch (e) {
                checks += '<div class="info">‚ÑπÔ∏è –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å iframe (CORS)</div>';
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ viewport
            const viewport = {
                width: window.innerWidth,
                height: window.innerHeight,
                devicePixelRatio: window.devicePixelRatio
            };
            
            checks += '<p><strong>Viewport:</strong></p>';
            checks += '<ul>';
            checks += `<li>–®–∏—Ä–∏–Ω–∞: ${viewport.width}px</li>`;
            checks += `<li>–í—ã—Å–æ—Ç–∞: ${viewport.height}px</li>`;
            checks += `<li>Device Pixel Ratio: ${viewport.devicePixelRatio}</li>`;
            checks += '</ul>';
            
            contentDiv.innerHTML = checks;
        }
        
        function generateSolutions() {
            const contentDiv = document.getElementById('solutions-content');
            let solutions = [];
            
            if (diagnosticData.critical === 'external_browser') {
                solutions.push('üîß <strong>–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:</strong> Telegram –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–æ –≤–Ω–µ—à–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ');
                solutions.push('üîß –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –≤–º–µ—Å—Ç–æ devtunnels: <code>ngrok http 5000</code>');
                solutions.push('üîß –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ @BotFather –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–º–µ–Ω–Ω–æ WebApp, –∞ –Ω–µ –æ–±—ã—á–Ω–∞—è —Å—Å—ã–ª–∫–∞');
                solutions.push('üîß –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –≤ –±–æ—Ç–µ —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞–¥—Ä–µ—Å—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã');
            }
            
            if (diagnosticData.domain === 'devtunnels') {
                solutions.push('üîß –ó–∞–º–µ–Ω–∏—Ç–µ devtunnels –Ω–∞ ngrok –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—É–Ω–Ω–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å');
                solutions.push('üîß –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–æ–º–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');
            }
            
            if (diagnosticData.userAgent === 'regular_browser') {
                solutions.push('üîß –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞');
                solutions.push('üîß –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ WebApp –∫–Ω–æ–ø–∫—É, –∞ –Ω–µ –æ–±—ã—á–Ω—É—é URL –∫–Ω–æ–ø–∫—É');
            }
            
            if (solutions.length === 0) {
                solutions.push('‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞');
            }
            
            contentDiv.innerHTML = '<ul><li>' + solutions.join('</li><li>') + '</li></ul>';
        }
        
        function setupBotConfig() {
            const currentUrl = window.location.href;
            document.getElementById('bot-url').textContent = currentUrl;
        }
        
        function copyBotUrl() {
            const url = document.getElementById('bot-url').textContent;
            navigator.clipboard.writeText(url).then(() => {
                alert('URL —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            });
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', function() {
            setTimeout(() => {
                checkCritical();
                checkUserAgent();
                checkTelegramWebApp();
                checkInitData();
                checkDomain();
                checkTelegramSpecific();
                generateSolutions();
                setupBotConfig();
            }, 1000);
        });
    </script>
</body>
</html>

